<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.lxinet.jeesns.modules.mem.dao.IMemberFansDao">
  <select id="find" resultType="MemberFans">
    select * from tbl_member_fans where follow_who=#{followWhoId} and who_follow=#{whoFollowId}
  </select>
  <delete id="delete" parameterType="java.lang.Integer">
    delete from tbl_member_fans where follow_who=#{followWhoId} and who_follow=#{whoFollowId}
  </delete>
  <insert id="save" parameterType="MemberFans">
    insert into tbl_member_fans(create_time,follow_who,who_follow) values(now(),#{followWhoId},#{whoFollowId})
  </insert>
  <select id="listByPage" resultType="MemberFans">
    select a.group_id as 'group.id',a.member_id as 'member.id',b.name as 'member.name',b.avatar as 'member.avatar' FROM tbl_group_fans as a left join tbl_member as b
    on a.member_id = b.id WHERE a.group_id=#{groupId} order by a.create_time DESC
  </select>
</mapper>